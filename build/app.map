{"version":3,"sources":["index.js"],"names":["window","Laxe","o","speed","axis","findOffset","e","x","y","p","offsetParent","offsetLeft","offsetTop","elms","preSetup","map","s","Object","keys","reduce","acc","k","elm","dataset","hasOwnProperty","parseFloat","setup","forEach","style","position","top","_p","left","move","deltaY","a","indexOf","touch","touchStart","touches","screenY","touchEnd","changedTouches","thing","document","querySelectorAll","addEventListener","Error"],"mappings":"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","file":"app.map","sourcesContent":["window.Laxe = (function () {\n    let o = {\n        speed: 1,\n        axis: 'y',\n    }\n\n    function findOffset(e) {\n        let x = 0;\n        let y = 0;\n\n        const p = e.offsetParent;\n        if (p != null && p !== 'body') {\n            const o = findOffset(p);\n\n            x += o.x;\n            y += o.y;\n        }\n\n        x += e.offsetLeft;\n        y += e.offsetTop;\n\n        return { x, y };\n    }\n\n    let elms = [];\n    const preSetup = () => {\n        elms = elms.map(elm => {\n            const s = Object.keys(o).reduce((acc, k) => {\n                acc[k] = o[k];\n\n                if (elm.dataset.hasOwnProperty(k)) {\n                    acc[k] = elm.dataset[k];\n                    \n                    if (typeof o[k] == 'number') {\n                        acc[k] = parseFloat(acc[k])\n                    }\n                }\n\n                return acc;\n            }, {});\n\n            s['_p'] = findOffset(elm);\n\n            return { e: elm, s };\n        });\n    }\n\n    const setup = () => {\n        elms.forEach(e => {\n            e.e.style.position = 'fixed';\n            e.e.style.top = `${e.s._p.y}px`;\n            e.e.style.left = `${e.s._p.x}px`;\n        });\n    }\n\n    const move = (e) => {\n        const y = e.deltaY;\n\n        elms.forEach(elm => {\n            const a = elm.s.axis;\n\n            if (['x', 'y'].indexOf(a) > -1) {\n                elm.s._p[a] += y;\n\n                elm.e.style[a === 'y' ? 'top' : 'left'] = `${elm.s._p[a] * elm.s.speed}px`;\n            } else {\n                elm.s._p.x += y;\n                elm.s._p.y += y;\n\n                elm.e.style.left = `${elm.s._p.x * elm.s.speed}px`;\n                elm.e.style.top = `${elm.s._p.y * elm.s.speed}px`;\n            }\n        });\n    }\n\n    const touch = {};\n    const touchStart = (e) => touch.deltaY = e.touches[0].screenY;\n    const touchEnd = (e) => {\n        touch.deltaY -= e.changedTouches[0].screenY;\n        move(touch);\n    }\n\n    return class Laxe {\n        constructor(thing) {\n            if (['.', '#'].indexOf(thing[0]) > -1) {\n                elms = [...document.querySelectorAll(thing)];\n                preSetup();\n                setup();\n\n                window.addEventListener('mousewheel', move);\n                window.addEventListener('touchstart', touchStart);\n                window.addEventListener('touchend', touchEnd);\n            } else {\n                throw new Error('Please provide either a class or id using the corrsponding specifier')\n            }\n\n        }\n\n        destroy() {\n            window.addEventListener('mousewheel', move);\n            window.addEventListener('touchstart', touchStart);\n            window.addEventListener('touchend', touchEnd);\n        }\n    }\n}());\n"]}